# Exploring Bias in Wikipedia Articles about Politicians

## Project Goal

The goal of this project is to explore the concept of bias in data using Wikipedia articles about politicians from different countries. By combining a dataset of Wikipedia articles with a dataset of country populations and utilizing the ORES machine learning service to estimate the quality of each article, we analyze how the coverage of politicians on Wikipedia and the quality of articles vary among countries and regions.

The analysis includes:

- Identifying countries with the greatest and least coverage of politicians on Wikipedia compared to their population.
- Identifying countries with the highest and lowest proportion of high-quality articles about politicians.
- Ranking geographic regions by articles-per-person and proportion of high-quality articles.

Through this project, we aim to understand the causes and consequences of biased data in large, complex data science projects.

You can reach the author, Manya Chadha at manyac@uw.edu regarding any further questions and clarifications.

---

## Data Sources and Licensing

### 1. Politician Data

- **Filename**: `politicians_by_country_AUG.2024.csv`
- **Description**: This dataset contains a list of Wikipedia article pages about politicians from various countries. It was generated by crawling the Wikipedia category ["Politicians by nationality"](https://en.wikipedia.org/wiki/Category:Politicians_by_nationality).
- **License**: Content is available under the [Creative Commons Attribution-ShareAlike 3.0 Unported License (CC BY-SA 3.0)](https://creativecommons.org/licenses/by-sa/3.0/).

### 2. Population Data

- **Filename**: `population_by_country_AUG.2024.csv`
- **Description**: This dataset contains population data for countries, downloaded from the [World Population Data Sheet](https://www.prb.org/international/indicator/population/table) published by the Population Reference Bureau.
- **License**: The data is publicly available and used according to the terms provided by the Population Reference Bureau.

### 3. Wikimedia Foundation Terms of Use

The data used from Wikipedia is subject to the [Wikimedia Foundation Terms of Use](https://foundation.wikimedia.org/wiki/Terms_of_Use/en).

---

## API Documentation

### 1. MediaWiki Action API

- **Purpose**: To retrieve the latest revision IDs of Wikipedia articles.
- **Endpoint**: `https://en.wikipedia.org/w/api.php`
- **Documentation**: [MediaWiki Action API](https://www.mediawiki.org/wiki/API:Main_page)
- **Usage in Project**: Used the `query` action with `prop=info` to obtain the `lastrevid` for each article.

### 2. ORES (Objective Revision Evaluation Service)

- **Purpose**: To get machine learning-based quality predictions for Wikipedia articles.
- **Endpoint**: `https://ores.wikimedia.org/v3/scores/{context}/{revid}/{model}`
- **Documentation**:
  - [ORES Documentation](https://www.mediawiki.org/wiki/ORES)
  - [ORES API Reference](https://ores.wikimedia.org/v3/)
- **Usage in Project**: Used the `articlequality` model to obtain quality assessments for articles based on their revision IDs.

---

## Data Files Created

### 1. Intermediary Data Files

#### a. `quality_labels.json`

- **Description**: A JSON file containing article titles and their corresponding quality labels as predicted by ORES.
- **Data Schema**:
  ```json
  {
    "article_title": "article_quality_label",
    ...
  }
  ```

### 2. Final Output File

#### a. `wp_politicians_by_country.csv`

- **Description**: A CSV file containing the merged dataset with the following columns:
- **Data Schema**:

  | Column Name     | Data Type | Description                                                  |
  |-----------------|-----------|--------------------------------------------------------------|
  | `article_title` | String    | Title of the Wikipedia article about a politician            |
  | `country`       | String    | The country associated with the politician                   |
  | `article_quality` | String  | The quality label assigned to the article by ORES            |
  | `revision_id`   | Integer   | The latest revision ID of the article                        |
  | `Population`    | Float     | Population of the country (in millions)                      |
  | `region`        | String    | The geographic region of the country                         |


#### b. `wp_countries-no_match.txt`

- **Description**: A text file listing countries that were present in one dataset but not in the other during the merging process.
- **Data Schema**:
  ```
  Country Name 1
  Country Name 2
  ...
  ```

---

## Data Schema and Description

### `wp_politicians_by_country.csv`

- **Columns**:

  - **`article_title`**: The title of the politician's Wikipedia article.
  - **`country`**: The country associated with the politician.
  - **`article_quality`**: The quality assessment label assigned by ORES. Possible values are:
    - `FA`: Featured Article
    - `GA`: Good Article
    - `B`: B-Class Article
    - `C`: C-Class Article
    - `Start`: Start-Class Article
    - `Stub`: Stub-Class Article
  - **`revision_id`**: The latest revision ID of the article.
  - **`Population`**: The population of the country in millions.
  - **`region`**: The geographic region of the country.

---

## Known Issues and Special Considerations

- **Duplicate Entries**:
  - Some politicians may appear multiple times due to being associated with multiple countries.
  - Duplicate articles with the same name and URL but different countries were identified and handled appropriately.

- **Missing Data**:
  - A small number of articles (8) did not have available `lastrevid` or quality scores from ORES. The articles are listed below.
  ```['Barbara Eibinger-Miedl','Mehrali Gasimov','Kyaw Myint','André Ngongang Ouandji','Tomás Pimentel','Richard Sumah',"Segun ''Aeroland'' Adewale",'Bashir Bililiqo']```
  - Articles without `revision_id` or `article_quality` are marked accordingly in the dataset.

- **Data Limitations**:
  - **Language Bias**: The analysis is based on the English Wikipedia, which may not represent global coverage accurately due to language preferences.
  - **Population Data Currency**: Population figures are approximate and may not reflect the most current data. Some countries showcased a population of 0 but have not explicitly been removed form the daatset.

- **API Rate Limits**:
  - The ORES API has rate limits, and throttling was implemented to respect these limits.
  - Requests were paused appropriately to prevent exceeding the allowed number of requests.

- **Unmatched Countries**:
  - Some countries in the politicians dataset did not have corresponding entries in the population dataset.
  - These countries are listed in the `wp_countries-no_match.txt` file.

- **Data Bias**:
  - The quality of articles as assessed by ORES may be influenced by various factors, including the number of contributors and editorial focus, introducing potential bias.

---

## How to Reproduce the Analysis

1. **Prerequisites**:
   - Python 3.x environment.
   - Required Python packages: `json`, `time`, `urllib.parse`, `requests`, `numpy`, `pandas`, `matplotlib`.
   - To install dependencies, run 
   ```
   pip install -r requirements.txt
   ```

2. **Datasets**:
   - Ensure the following files are in the working directory:
     - `politicians_by_country_AUG.2024.csv`
     - `population_by_country_AUG.2024.csv`

3. **Running the Notebook**:
   - Open the Jupyter notebook titled `main-workflow.ipynb`.
   - Run each cell sequentially to execute the code.
   - The code includes API calls; ensure you have internet access, necessary access tokens and respect API rate limits.

4. **Output Files**:
   - `quality_labels.json` will be created containing article quality labels.
   - `wp_countries-no_match.txt` will list countries without matching population data and is found in datasets folder.
   - `wp_politicians_by_country.csv` will be generated as the final merged dataset and is found in datasets folder.

---

## Research Implications

This project highlights the disparities in Wikipedia coverage and article quality among countries and regions. The findings suggest potential biases in data availability and quality which could be influenced by factors such as language, internet accessibility, and affluence.

Some key findings and associated thoughts are detailed as follows:

- The bottom 2 countries for article count per capita are China and India respectively. These are the two most populous countries in the World, and their population is several maginitudes higher (in 1000s of millions) compared to the rest of the bottom 10 countries. However, they might have had the same number of polticians as the rest of the countries, resulting in similar article counts, but have had populations skyrocket. This begs the question if article count per capita is a good measure of article coverage, or if some other kind of metric like absolute article counts, is better.

- It is interesting to note that majority of both, the top 10 and the bottom 10 for article count per capita are non-English speaking countries. What is also fascinating is the emerging relationship between affluence and article quality as countries like U.S. and U.K. are removed from the dataset.


Q. What biases did you expect to find in the data (before you started working with it), and why?

A. I expected to find linguistic biases, i.e., high article coverage and high number of high quality articles from majority English-speaking countries like the U.S. and the U.K., since the data was scraped specifically from English Wikipedia. My assumption was that a lot of countries, such as China, would have experts that would be more comfortable dissemminating information in their own language. However, once those countries showed up in the wp_countries-no_match.txt file, it became clear that this might have been a choice made by the data aggregator to examine countries other than these ones. 

Q. What (potential) sources of bias did you discover in the course of your data processing and analysis?

A. A potential source of bias was the use of Population to generate per capita metrics in both country as well as regional cases. While it seems like a standardized measure, I observed that it heavily inflated the coverage numbers for regions/countries with populations less than a million and had the opposite effect for highly populated regions/countries. I also found that the top 10 countries with high quality articles were majorly all from affluent European countries, while the bottom 10 countries were all (with the exception of Japan) poorer non-European countries that were experiencing some kind of political tensions, uprisings, etc. These findings indicate some kind of correlation between factors like GDP per capita or income inequality (GINI index) and total article counts as well as total number of high quality articles. 

Q. What might your results suggest about (English) Wikipedia as a data source?

A. It is easy to interpret these results as suggesting that people from some parts of the world are more involved in the curation and maintenance of their politicians' Wikipedia pages than others, but I am not convinced that is true. Many countries with non-English speakers have a certain style of speaking, which transfers from their native language to English, and more often than not, it doesn't suit English as well as it does their own language. This could mean that if the contributors are non-native English speakers, they might be contributing good information but due to their poor command on the language, not be able to clearly express their thoughts. This kind of scenario might actually do more harm than good and lead to lowly ranked articles by the ORES tool. 

Q. How might a researcher supplement or transform this dataset to potentially correct for the limitations/biases you observed?

A. A researcher truly interested in understanding politician coverage might want to explore relations beyond article counts, quality and population. They'd want to see the relation between GDP per capita and article counts/quality, as preliminary findings indicate that affluent regions tend to have more high quality articles. Similarly, there is evidence that points towards a relation between political instability and article quality. Further, a researcher might benefit from noting the official languages of each country to understand if there is a language bias within English Wikipedia as a source and if that changes for countries in their native languages. There are plenty of other avenues that a researcher could take, like assessing relationship between article coverage/quality and internet access or even number of editors and rate of revisions made to pages per country, to get a more holistic picture of political coverage in different countries and related factors that could contribute to biasedness.

---

*This project complies with all licensing requirements and respects the terms of use of the data sources and APIs involved.*